<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:Feleves_Feladat_FZW0D1.ViewModels"
             x:Class="Feleves_Feladat_FZW0D1.MainPage"
             x:DataType="viewmodels:MainPageViewModel"
             Loaded="OnLoaded"
             Title="MusicLister">

    <Grid RowDefinitions="Auto, *" RowSpacing="10" Padding="10">

        <ScrollView Grid.Row="0" Orientation="Vertical">
            <VerticalStackLayout Spacing="10">

                <FlexLayout Direction="Row" 
                            Wrap="Wrap" 
                            JustifyContent="Center" 
                            AlignItems="Center">

                    <Button Text="New Artist" Command="{Binding AddNewArtistCommand}" Margin="5"/>
                    <Button Text="Edit Artist" Command="{Binding EditArtistCommand}" Margin="5"/>
                    <Button Text="Delete Artist" Command="{Binding DeleteArtistCommand}" Margin="5"/>
                </FlexLayout>

                <Picker Title="Válassz előadót..."
                        ItemsSource="{Binding Artists}"  
                        ItemDisplayBinding="{Binding Name}"
                        SelectedItem="{Binding SelectedArtist}" 
                        HorizontalOptions="Fill" />

                <FlexLayout Direction="Row" 
                            Wrap="Wrap" 
                            JustifyContent="Center" 
                            AlignItems="Center">

                    <Button Text="New Song" Command="{Binding AddNewSongCommand}" Margin="5"/>
                    <Button Text="Edit Song" Command="{Binding EditSongCommand}" Margin="5"/>
                    <Button Text="Delete Song" Command="{Binding DeleteSongCommand}" Margin="5"/>
                    <Button Text="Spotify search" Command="{Binding SpotifySearchCommand}" Margin="5"/>
                    <Button Text="Spotify import" Command="{Binding GoToSpotifyImportCommand}" Margin="5"/>
                </FlexLayout>

                <Picker Title="Válassz dalt..."
                        ItemsSource="{Binding FilteredSongs}"
                        ItemDisplayBinding="{Binding Title}" 
                        SelectedItem="{Binding SelectedSong}"
                        HorizontalOptions="Fill" />
            </VerticalStackLayout>
        </ScrollView>

        <Grid Grid.Row="1">

            <Label Text="Ide jöhet a fő tartalom / listák..." 
           VerticalOptions="Center" 
           HorizontalOptions="Center"/>

            <Button Text="Megosztás"
            Command="{Binding MusicShareCommand}"
            BackgroundColor="{StaticResource Primary}"
            TextColor="White"
            CornerRadius="25"
            HeightRequest="50"
            HorizontalOptions="End"
            VerticalOptions="End"
            Margin="20"
            Shadow="{Shadow Brush=Black, Offset='2,2', Opacity=0.5}" />
        </Grid>

    </Grid>
</ContentPage>